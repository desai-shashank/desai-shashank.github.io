<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shashank Desai ‚Äî Portfolio</title>
  <meta name="description" content="Interactive portfolio of Shashank Desai ‚Äî data analytics, ML, and full-stack web." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%220.9em%22 font-size=%2290%22>‚ö°</text></svg>">

  <style>
    /* ---------- THEME ---------- */
    :root{
      --bg:#ffffff; --text:#0f1218; --muted:#6b7280; --line:#e7e7ec; --card:#ffffff;
      --accent:#7c3aed; --accent-2:#22d3ee;
      --shadow:0 16px 36px rgba(0,0,0,.10);
      --btn-bg:transparent; --btn-text:var(--text);
    }
    html.dark{
      --bg:#0b0b10; --text:#eaeaf0; --muted:#a6adbb; --line:#1f2330; --card:#0f1117;
      --accent:#7c3aed; --accent-2:#22d3ee;
      --shadow:0 16px 36px rgba(0,0,0,.35);
      --btn-bg:transparent; --btn-text:#eaeaf0;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:16px/1.65 Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial;
      transition: background-color .35s ease, color .35s ease;
    }

    /* Layout (tighter section rhythm) */
    .wrap{max-width:1100px;margin:0 auto;padding:0 20px}
    header{
      position:sticky; top:0; z-index:60;
      background:color-mix(in srgb,var(--bg) 86%, transparent);
      -webkit-backdrop-filter:saturate(160%) blur(10px); backdrop-filter:saturate(160%) blur(10px);
      border-bottom:1px solid var(--line);
      transition: background-color .35s ease, border-color .35s ease;
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
    .brand{font-weight:800;letter-spacing:.2px}
    .nav a{color:var(--text);text-decoration:none;opacity:.9}
    .nav a:hover{opacity:1}
    .links{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
    .progress{position:absolute;left:0;bottom:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0}

    /* Buttons & chips (fix ‚Äúwhite details‚Äù issue) */
    .btn{
      -webkit-appearance:none; appearance:none;
      display:inline-flex;align-items:center;gap:8px;padding:9px 13px;border-radius:12px;
      border:1px solid var(--line); background:var(--btn-bg); color:var(--btn-text);
      text-decoration:none; transition:transform .18s,border-color .35s ease, background-color .35s ease;
      cursor:pointer; font:inherit;
    }
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:var(--accent);border-color:var(--accent);color:white}
    .btn.ghost{background:color-mix(in srgb,var(--bg) 85%, black 15%)}
    .chip{display:inline-block;padding:6px 10px;border:1px solid var(--line);border-radius:999px;margin:4px 8px 0 0;color:var(--text);font-size:13px;cursor:pointer;user-select:none;transition:background-color .35s ease, border-color .35s ease}
    .chip.active{background:var(--accent);border-color:var(--accent);color:#fff}
    .chipbar{display:flex;flex-wrap:wrap;gap:6px;align-items:center}

    /* Sections (reduced gaps) */
    .section{padding:24px 0}
    .hero{padding:36px 0 12px}
    .grid{display:grid;gap:16px}
    .hero-grid{grid-template-columns:170px 1fr;align-items:center}
    @media (max-width:820px){.hero-grid{grid-template-columns:1fr}}
    .pfp{
      width:170px;height:170px;border-radius:20px;object-fit:cover;
      border:1px solid var(--line); box-shadow:var(--shadow);
      transition: border-color .35s ease, box-shadow .35s ease;
    }
    h1{margin:0 0 8px;font-size:clamp(26px,4vw,40px);line-height:1.18;font-weight:900;letter-spacing:-.02em}
    h2{margin:0 0 6px;font-size:19px;font-weight:800}
    .muted{color:var(--muted)}
    .lead{color:color-mix(in srgb,var(--text) 85%, var(--muted) 15%)}

    /* Cards (tight, no huge inner whitespace) */
    .cards{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .card{
      position:relative;background:linear-gradient(180deg,var(--card), color-mix(in srgb,var(--card) 85%, black 15%));
      border:1px solid var(--line); border-radius:16px; padding:14px;
      transition:transform .18s ease, box-shadow .18s ease, border-color .35s ease, background-color .35s ease;
      text-decoration:none; color:inherit; overflow:hidden; transform-style:preserve-3d;
    }
    .card:hover{box-shadow:var(--shadow); transform:translateY(-2px)}
    .card h3{margin:0 0 6px}
    .card p{margin:0 0 8px}
    .card p:last-child{margin-bottom:0}
    .meta{font-size:13px;color:var(--muted);margin:0 0 6px}
    .card::after{
      content:""; position:absolute; inset:-1px; border-radius:16px; pointer-events:none;
      background:conic-gradient(from 180deg at 50% 50%, color-mix(in srgb,var(--accent) 42%, transparent), transparent 30%,
                  color-mix(in srgb,var(--accent-2) 46%, transparent), transparent 70%);
      filter:blur(22px) opacity(.22); z-index:0; transition:opacity .35s ease;
    }
    .card > *{position:relative; z-index:1}

    /* Timeline */
    .timeline{display:grid;gap:8px}
    .trow{display:grid;grid-template-columns:120px 1fr;gap:12px}
    @media (max-width:560px){.trow{grid-template-columns:1fr}}
    .when{color:var(--muted);font-size:13px}
    .what{font-weight:600}

    /* Reveal on scroll */
    .reveal{opacity:0;transform:translateY(12px) scale(.985);
      transition:opacity .55s cubic-bezier(.22,.61,.36,1), transform .55s cubic-bezier(.22,.61,.36,1)}
    .show{opacity:1;transform:none}
    @media (prefers-reduced-motion:reduce){
      .reveal{opacity:1!important;transform:none!important;transition:none!important}
    }

    /* Utilities */
    a:focus-visible, button:focus-visible{outline:none; box-shadow:0 0 0 6px color-mix(in srgb, var(--accent) 18%, transparent)}
    .toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:6px 0 10px}
    .search{flex:1;min-width:220px}
    .search input{
      width:100%; background:color-mix(in srgb,var(--bg) 82%, black 18%); color:var(--text);
      border:1px solid var(--line); padding:9px 12px; border-radius:12px; transition: background-color .35s ease, border-color .35s ease, color .35s ease;
    }
    .toast{
      position:fixed; left:50%; transform:translateX(-50%); bottom:22px; padding:9px 12px; border-radius:10px;
      background:color-mix(in srgb,var(--bg) 85%, black 15%); border:1px solid var(--line); color:var(--text); opacity:0; pointer-events:none;
      transition:opacity .25s ease; z-index:80
    }
    .toast.show{opacity:1}
    .topbtn{
      position:fixed; right:18px; bottom:22px; z-index:70; opacity:0; transform:translateY(10px);
      transition:opacity .2s, transform .2s
    }
    .topbtn.visible{opacity:1; transform:none}

    /* --- Hex skills (Sunny-style) --- */
    .skills-wrap{padding:26px 0}
    .neon-tag{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size:14px; color:#9ae6ff; opacity:.9; text-shadow:0 0 14px rgba(34,211,238,.55);
      display:inline-block; margin:6px 0 10px;
    }
    .hex-grid{
      display:grid; gap:16px;
      grid-template-columns:repeat(auto-fit, minmax(110px, 1fr));
      align-items:center; justify-items:center;
    }
    .hex-card{ display:flex; flex-direction:column; align-items:center; gap:8px; }
    .hex{
      width:110px; aspect-ratio:1;
      background:#2a1f4a;
      border:1px solid color-mix(in srgb, var(--line) 60%, transparent);
      box-shadow:0 12px 22px rgba(0,0,0,.25), inset 0 -16px 24px rgba(0,0,0,.18);
      clip-path:polygon(25% 6.7%, 75% 6.7%, 100% 50%, 75% 93.3%, 25% 93.3%, 0% 50%);
      display:grid; place-items:center; transition:transform .22s ease, box-shadow .22s ease;
    }
    .hex:hover{ transform:translateY(-6px); box-shadow:0 18px 34px rgba(124,58,237,.35), inset 0 -16px 24px rgba(0,0,0,.2); }
    .hex img{ width:58px; height:58px; object-fit:contain; filter:drop-shadow(0 4px 8px rgba(0,0,0,.35)); }
    .hex-label{ font-weight:600; font-size:13px; color:var(--text); opacity:.95 }
    html.dark .hex{ background:#241c3f; }
  </style>

  <!-- Initial theme: saved or prefers-color-scheme -->
  <script>
    (function(){
      const saved = localStorage.getItem('theme');
      const prefersDark = matchMedia('(prefers-color-scheme: dark)').matches;
      if (saved === 'dark' || (!saved && prefersDark)) document.documentElement.classList.add('dark');
    })();
  </script>
</head>
<body>
  <!-- NAV -->
  <header>
    <div class="wrap nav">
      <span class="brand">Shashank Desai</span>
      <div class="links">
        <a href="#work">Work</a>
        <a href="#skills">Skills</a>
        <a href="#experience">Experience</a>
        <a href="#education">Education</a>
        <a href="#certs">Certificates</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
        <a class="btn" href="Shashank%20Resume%20CA.pdf" target="_blank" rel="noopener">üìÑ Resume</a>
        <button id="themeToggle" class="btn" title="Toggle dark/light">üåô</button>
      </div>
    </div>
    <div id="progress" class="progress"></div>
  </header>

  <main class="wrap">
    <!-- HERO -->
    <section class="hero">
      <div class="grid hero-grid">
        <img src="IMG_9317x.jpg" alt="Portrait of Shashank Desai" class="pfp reveal" />
        <div class="reveal">
          <h1>I design data-driven products and crisp dashboards.</h1>
          <p class="lead">Master of Data Analytics @ UNFC. Comfortable across Python, SQL, Tableau/Power BI & full-stack web. I like shipping simple, reliable tools that make decisions easier.</p>
          <div class="links" style="margin-top:8px">
            <a class="btn primary" href="#work">See featured work</a>
            <a class="btn ghost" href="mailto:desaishashank7@gmail.com" id="copyEmail">‚úâÔ∏è Copy email</a>
            <a class="btn ghost" href="https://linkedin.com/in/shashank-kardambhai-desai" target="_blank" rel="noopener">üîó LinkedIn</a>
            <a class="btn ghost" href="https://github.com/desai-shashank" target="_blank" rel="noopener">üêô GitHub</a>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURED WORK -->
    <section id="work" class="section">
      <h2>Featured work</h2>
      <p class="muted" style="margin:0 0 8px">A few projects that show how I work end-to-end.</p>
      <div class="cards" id="featuredGrid"></div>
    </section>

    <!-- SKILLS (Sunny-style hex) -->
    <section id="skills" class="section skills-wrap">
      <h2>Skills</h2>
      <div class="neon-tag">&lt;programming&gt;</div>
      <div class="hex-grid reveal">
        <div class="hex-card"><div class="hex"><img alt="Python" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg"></div><div class="hex-label">Python</div></div>
        <div class="hex-card"><div class="hex"><img alt="Java" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg"></div><div class="hex-label">Java</div></div>
        <div class="hex-card"><div class="hex"><img alt="C++" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/cplusplus/cplusplus-original.svg"></div><div class="hex-label">C++</div></div>
        <div class="hex-card"><div class="hex"><img alt="JavaScript" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg"></div><div class="hex-label">JavaScript</div></div>
        <div class="hex-card"><div class="hex"><img alt="TypeScript" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg"></div><div class="hex-label">TypeScript</div></div>
        <div class="hex-card"><div class="hex"><img alt="React" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg"></div><div class="hex-label">React</div></div>
        <div class="hex-card"><div class="hex"><img alt="PostgreSQL" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg"></div><div class="hex-label">PostgreSQL</div></div>
        <div class="hex-card"><div class="hex"><img alt="MongoDB" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mongodb/mongodb-original.svg"></div><div class="hex-label">MongoDB</div></div>
        <div class="hex-card"><div class="hex"><img alt="Docker" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg"></div><div class="hex-label">Docker</div></div>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience" class="section">
      <h2>Experience</h2>
      <div class="cards">
        <div class="card reveal">
          <h3>Intern ‚Äî Software Development</h3>
          <div class="meta">InfoServOps ‚Ä¢ Vadodara, Gujarat ‚Ä¢ Dec 2023 ‚Äì Jul 2024</div>
          <ul style="margin:4px 0 0 18px">
            <li>Delivered features across front-end and back-end with a focus on clean UX.</li>
            <li>Improved UI and performance, keeping pages fast and accessible.</li>
            <li>Implemented SEO tweaks that increased organic visibility.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education" class="section">
      <h2>Education</h2>
      <div class="timeline">
        <div class="trow reveal"><div class="when">2025‚Äì2026</div><div class="what">Master of Data Analytics ‚Äî University of Niagara Falls (expected)</div></div>
        <div class="trow reveal"><div class="when">2021‚Äì2024</div><div class="what">B.Tech Computer Science & Engineering ‚Äî Parul University</div></div>
        <div class="trow reveal"><div class="when">2018‚Äì2021</div><div class="what">Diploma in Computer Engineering ‚Äî Parul University</div></div>
      </div>
    </section>

    <!-- CERTIFICATES -->
    <section id="certs" class="section">
      <h2>Certificates</h2>
      <div class="toolbar">
        <div class="chipbar" id="certFilters">
          <span class="chip active" data-issuer="all">All</span>
          <span class="chip" data-issuer="Coursera">Coursera</span>
          <span class="chip" data-issuer="Udemy">Udemy</span>
          <span class="chip" data-issuer="Google">Google</span>
          <span class="chip" data-issuer="Other">Other</span>
        </div>
        <div class="search">
          <input id="certSearch" placeholder="Search certificates‚Ä¶ (press / to focus)" />
        </div>
      </div>
      <div class="cards" id="certsGrid">
        <div class="card reveal" data-title="Add your certificate JSON" data-issuer="Other" data-desc="Create certificates.json to load your certificates.">
          <h3>Loading certificates.json‚Ä¶</h3>
          <div class="meta">Tip: file goes next to index.html</div>
          <p>Your JSON is already live ‚Äî this will be replaced automatically.</p>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="section">
      <h2>Projects</h2>
      <div class="toolbar">
        <div class="chipbar" id="filters">
          <span class="chip active" data-tag="all">All</span>
          <span class="chip" data-tag="data">Data</span>
          <span class="chip" data-tag="ml">ML</span>
          <span class="chip" data-tag="web">Web</span>
        </div>
        <div class="search">
          <input id="projectSearch" placeholder="Search projects‚Ä¶  (press / to focus)" />
        </div>
      </div>
      <div class="cards" id="projectsGrid"></div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section">
      <h2>Contact</h2>
      <div class="card reveal">
        <p class="muted">I‚Äôm open to internships, co-ops, and collaborations.</p>
        <p>‚úâÔ∏è <a href="mailto:desaishashank7@gmail.com" style="color:inherit">desaishashank7@gmail.com</a></p>
        <p>üîó <a href="https://linkedin.com/in/shashank-kardambhai-desai" target="_blank" rel="noopener" style="color:inherit">linkedin.com/in/shashank-kardambhai-desai</a></p>
        <p>üìÑ <a href="Shashank%20Resume%20CA.pdf" target="_blank" rel="noopener" style="color:inherit">Resume (PDF)</a></p>
      </div>
    </section>
  </main>

  <footer class="wrap" style="padding:14px 0;border-top:1px solid var(--line);color:var(--muted);display:flex;justify-content:space-between;align-items:center;margin-top:18px">
    <span>¬© <span id="year"></span> Shashank Desai</span>
    <span>Built for GitHub Pages</span>
  </footer>

  <!-- Back-to-top -->
  <a href="#top" id="topBtn" class="btn topbtn">‚Üë Top</a>

  <!-- Modal -->
  <dialog id="modal" style="border:none;border-radius:14px;padding:0;max-width:720px;width:calc(100% - 28px);background:var(--card);color:var(--text);box-shadow:var(--shadow);transition:background-color .35s ease, color .35s ease, border-color .35s ease">
    <div style="padding:16px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center">
      <strong id="mTitle"></strong>
      <button id="mClose" class="btn" style="padding:6px 10px">‚úï</button>
    </div>
    <div style="padding:16px" id="mBody"></div>
  </dialog>

  <!-- Toast -->
  <div id="toast" class="toast">Copied!</div>

  <!-- ===== Inline Certificates JSON (guaranteed rendering) ===== -->
  <script type="application/json" id="certsData">
  [
    {"title":"Python","issuer":"Other","date":"","id":"","link":"https://drive.google.com/file/d/1Q0JDu6ffQXvbVt4USvUe5wx55RpqzRb9/view"},
    {"title":"Machine Learning","issuer":"Other","date":"","id":"","link":"https://drive.google.com/file/d/1ougNOb755NHU_VYDXcjeMHSEDbDStlAO/view"},
    {"title":"Mastering Kali Linux","issuer":"Other","date":"","id":"","link":"https://drive.google.com/file/d/1FhJJc-5Wy9uenKbUYJ1IY_a_3jngTsAz/view"},
    {"title":"Internet of Things","issuer":"Other","date":"","id":"","link":"https://drive.google.com/file/d/1Y4Pms-CAgz3ZbaLV8CYysbZmz_RuvyD3/view"},
    {"title":"Cyber Security and Applied Ethical Hacking","issuer":"Other","date":"","id":"","link":"https://drive.google.com/file/d/1jUWZiVJUhtsxWZknqepEmr3SNiBIiIKh/view"}
  ]
  </script>

  <script>
    /* ============ DATA ============ */
    const featured = [
      { title:"Portfolio Website (Live)", meta:"HTML ‚Ä¢ CSS ‚Ä¢ JS",
        blurb:"Minimal, fast, Sunny-style portfolio built with accessible markup and subtle animations.",
        link:"https://desai-shashank.github.io/", tag:"web",
        detail:`<p>Deployed via GitHub Pages with a lightweight, original theme. Fully responsive, with dark mode and reveal animations.</p>
                <p><a href="https://desai-shashank.github.io/" target="_blank" rel="noopener" class="btn">Open website</a></p>`},
      { title:"Portfolio Website (Source Code)", meta:"GitHub Repository",
        blurb:"Clean, self-contained codebase for this site, easy to extend with projects and posts.",
        link:"https://github.com/desai-shashank/desai-shashank.github.io", tag:"web,
        detail:`<p>Simple structure and no external dependencies. Ideal for quick edits in GitHub UI.</p>
                <p><a href="https://github.com/desai-shashank/desai-shashank.github.io" target="_blank" rel="noopener" class="btn">Open repository</a></p>`}
    ];

    const projects = [
      ...featured,
      { title:"Interactive Health Insights", meta:"Tableau ‚Ä¢ Public Data",
        blurb:"Use this slot for your Tableau Public dashboard (filled & symbol maps, histograms, box plots).",
        link:"#", tag:"data",
        detail:`<p>Showcase health/BRFSS work with tooltips, bins, and filters.</p>`},
      { title:"Gym Training Recommender", meta:"Python ‚Ä¢ scikit-learn",
        blurb:"Small ML pipeline that suggests training plans from goals & constraints.",
        link:"#", tag:"ml",
        detail:`<p>Feature engineering + cross-validation; simple UI for inputs and plan export.</p>`}
    ];

    /* ============ THEME TOGGLE ============ */
    const themeBtn = document.getElementById('themeToggle');
    function setThemeIcon(){ themeBtn.textContent = document.documentElement.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô'; }
    themeBtn.addEventListener('click', ()=>{
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
      setThemeIcon();
    });
    setThemeIcon();
    window.addEventListener('keydown', e=>{
      if (e.key.toLowerCase() === 't') themeBtn.click();
      if (e.key === '/' && document.activeElement.tagName !== 'INPUT'){
        e.preventDefault();
        (document.getElementById('projectSearch') || document.getElementById('certSearch'))?.focus();
      }
    });

    /* ============ SCROLL GOODIES ============ */
    const progress = document.getElementById('progress');
    const topBtn = document.getElementById('topBtn');
    function onScroll(){
      const h = document.documentElement;
      const sc = (h.scrollTop)/(h.scrollHeight - h.clientHeight);
      progress.style.width = (sc*100) + '%';
      if (h.scrollTop > 600) topBtn.classList.add('visible'); else topBtn.classList.remove('visible');
    }
    document.addEventListener('scroll', onScroll, {passive:true}); onScroll();

    // Reveal on scroll
    const io = new IntersectionObserver((ents)=>{ ents.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target);} }); }, { threshold:.18 });
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // Card tilt
    function addTilt(el){
      el.addEventListener('mousemove', (e)=>{
        const r = el.getBoundingClientRect();
        const x = (e.clientX - r.left)/r.width - .5;
        const y = (e.clientY - r.top)/r.height - .5;
        el.style.transform = `rotateX(${ -y * 6 }deg) rotateY(${ x * 6 }deg) translateY(-2px)`;
      });
      el.addEventListener('mouseleave', ()=>{ el.style.transform=''; });
      el.addEventListener('blur', ()=>{ el.style.transform=''; });
    }

    // Toast + copy email
    const toast = document.getElementById('toast');
    function showToast(msg){ toast.textContent = msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 1400); }
    document.getElementById('copyEmail').addEventListener('click', (e)=>{ e.preventDefault(); navigator.clipboard.writeText('desaishashank7@gmail.com').then(()=>showToast('Email copied')); });

    // Modal
    const modal = document.getElementById('modal'), mTitle = document.getElementById('mTitle'), mBody = document.getElementById('mBody');
    document.getElementById('mClose').onclick = ()=>modal.close();
    function openModal(item){ mTitle.textContent = item.title; mBody.innerHTML = `<div class="meta">${item.meta||item.issuer||''}</div><div>${item.detail||item.blurb||''}</div>`; modal.showModal(); }

    // Helpers
    function cardHTML(item){
      return `
        <article class="card reveal" tabindex="0" data-title="${item.title}" data-meta="${item.meta||item.issuer||''}" data-tag="${item.tag||'data'}" data-issuer="${item.issuer||''}" data-desc="${item.blurb||''}">
          <h3>${item.title}</h3>
          <div class="meta">${item.meta||item.issuer||''}</div>
          <p>${item.blurb||''}</p>
          <div class="links" style="margin-top:8px">
            ${item.link ? `<a class="btn" target="_blank" rel="noopener" href="${item.link}">Open</a>`:''}
            <button class="btn" data-open>Details</button>
          </div>
        </article>`;
    }
    function wireCards(scope, source){
      scope.querySelectorAll('.card').forEach(card=>{
        addTilt(card);
        card.querySelector('[data-open]')?.addEventListener('click', ()=>{
          const title = card.dataset.title;
          const item = source.find(i=>i.title===title) || { title, meta: card.dataset.meta, detail: `<p>${card.dataset.desc||''}</p>` };
          openModal(item);
        });
      });
    }

    // Featured render
    const featuredGrid = document.getElementById('featuredGrid');
    featured.forEach(p=>featuredGrid.insertAdjacentHTML('beforeend', cardHTML(p)));
    wireCards(featuredGrid, featured);

    // Projects render + filters/search
    const projectsGrid = document.getElementById('projectsGrid');
    projects.forEach(p=>projectsGrid.insertAdjacentHTML('beforeend', cardHTML(p)));
    wireCards(projectsGrid, projects);

    const filterBar = document.getElementById('filters');
    function applyProjectFilters(){
      const active = filterBar.querySelector('.active')?.dataset.tag || 'all';
      const q = document.getElementById('projectSearch').value.trim().toLowerCase();
      projectsGrid.querySelectorAll('.card').forEach(card=>{
        const tag = card.dataset.tag;
        const text = (card.dataset.title + ' ' + card.dataset.meta + ' ' + card.dataset.desc).toLowerCase();
        const tagPass = active === 'all' || tag === active;
        const qPass = !q || text.includes(q);
        card.style.display = (tagPass && qPass) ? '' : 'none';
      });
    }
    filterBar.addEventListener('click', (e)=>{
      const chip = e.target.closest('.chip'); if(!chip) return;
      filterBar.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
      chip.classList.add('active'); applyProjectFilters();
    });
    document.getElementById('projectSearch').addEventListener('input', applyProjectFilters);
    applyProjectFilters();

    /* ============ CERTIFICATES (inline-first, then external) ============ */
    const certsGrid = document.getElementById('certsGrid');
    const certFilterBar = document.getElementById('certFilters');

    function wireCertCards(sourceForModal){
      certsGrid.querySelectorAll('.card').forEach(card=>{
        addTilt(card);
        card.querySelector('[data-open]')?.addEventListener('click', ()=>{
          const title = card.dataset.title;
          const item = sourceForModal.find(i=>i.title===title) || {
            title, issuer: card.dataset.issuer, detail: `<p>${card.dataset.desc||''}</p>`
          };
          openModal(item);
        });
      });
    }

    function renderCerts(certs){
      certsGrid.innerHTML = '';
      const mappedForCards = certs.map(c => ({
        title: c.title,
        issuer: c.issuer || 'Other',
        meta: (c.issuer || 'Other') + (c.date ? ` ‚Ä¢ ${c.date}` : ''),
        blurb: c.id ? `Credential ID: ${c.id}` : '',
        link: c.link || ''
      }));
      mappedForCards.forEach(item => certsGrid.insertAdjacentHTML('beforeend', cardHTML(item)));

      const mappedForModal = certs.map(c => ({
        title: c.title,
        issuer: c.issuer || 'Other',
        detail: `
          ${c.id ? `<p>Credential ID: ${c.id}</p>` : ''}
          ${c.link ? `<p><a class='btn' href='${c.link}' target='_blank' rel='noopener'>Open certificate</a></p>` : ''}`
      }));
      wireCertCards(mappedForModal);

      certsGrid.querySelectorAll('.reveal').forEach(el=>io.observe(el));
      applyCertFilters();
    }

    async function loadCertificates(){
      const inline = document.getElementById('certsData');
      if (inline && inline.textContent.trim()) {
        try { renderCerts(JSON.parse(inline.textContent)); return; }
        catch (e) { console.warn('Inline certs JSON parse error:', e); }
      }
      try {
        const res = await fetch('./certificates.json?cb=' + Date.now(), { cache:'no-store' });
        if (!res.ok) throw new Error('certificates.json not found');
        renderCerts(await res.json());
      } catch (e) {
        console.warn('Certificates JSON not loaded:', e); // fallback card stays
      }
    }

    function applyCertFilters(){
      const active = certFilterBar.querySelector('.active')?.dataset.issuer || 'all';
      const q = (document.getElementById('certSearch')?.value || '').trim().toLowerCase();
      certsGrid.querySelectorAll('.card').forEach(card=>{
        const issuer = (card.dataset.issuer || 'Other').toLowerCase();
        const text = (card.dataset.title + ' ' + card.dataset.meta + ' ' + (card.dataset.desc||'')).toLowerCase();
        const issuerPass = active === 'all' || issuer === active.toLowerCase();
        const qPass = !q || text.includes(q);
        card.style.display = (issuerPass && qPass) ? '' : 'none';
      });
    }
    certFilterBar.addEventListener('click', (e)=>{
      const chip = e.target.closest('.chip'); if(!chip) return;
      certFilterBar.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
      chip.classList.add('active'); applyCertFilters();
    });
    document.getElementById('certSearch')?.addEventListener('input', applyCertFilters);

    // Boot certificates
    loadCertificates();

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
